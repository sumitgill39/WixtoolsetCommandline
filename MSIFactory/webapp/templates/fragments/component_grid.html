{% if components %}
<div class="row">
    {% for component in components %}
    <div class="col-md-6 col-lg-4 mb-3">
        <div class="card h-100">
            <div class="card-header bg-primary text-white">
                <h6 class="mb-0">
                    <i class="fas fa-cube me-2"></i>{{ component.component_name }}
                </h6>
                <small>{{ component.project_name }}</small>
            </div>
            <div class="card-body">
                <div class="mb-2">
                    <span class="badge bg-info">{{ component.component_type|title }}</span>
                    <span class="badge bg-secondary">{{ component.framework }}</span>
                </div>

                {% set config_status = 'configured' if component.config_id else 'pending' %}
                <div class="mb-3">
                    <span class="badge {{ 'bg-success' if config_status == 'configured' else 'bg-warning' }}">
                        {{ config_status|title }}
                    </span>
                </div>

                <div class="d-grid gap-2">
                    {% if config_status == 'pending' %}
                    <button class="btn btn-primary btn-sm"
                            hx-get="/htmx/component/configure/{{ component.component_id }}"
                            hx-target="#config-modal-content"
                            data-bs-toggle="modal"
                            data-bs-target="#configModal">
                        <i class="fas fa-cog me-1"></i>Configure
                    </button>
                    {% else %}
                    <button class="btn btn-success btn-sm"
                            hx-get="/htmx/component/view-config/{{ component.component_id }}"
                            hx-target="#config-modal-content"
                            data-bs-toggle="modal"
                            data-bs-target="#configModal">
                        <i class="fas fa-eye me-1"></i>View Config
                    </button>
                    {% endif %}

                    <button class="btn btn-outline-secondary btn-sm"
                            hx-get="/htmx/component/edit/{{ component.component_id }}"
                            hx-target="#component-modal-content"
                            data-bs-toggle="modal"
                            data-bs-target="#componentModal">
                        <i class="fas fa-edit me-1"></i>Edit
                    </button>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="text-center py-5">
    <i class="fas fa-search fa-3x text-muted mb-3"></i>
    <p class="text-muted">No components found matching your search criteria.</p>
</div>
{% endif %}